---
layout:     post
title:      设计模式Python实现
subtitle:   使用Python实现23种设计模式，加深自己的理解
date:       2018-05-28
author:     Leosocy
header-img: img/post-bg-black-series-9.jpg
catalog: true
tags:
    - 设计模式
---

最近找到了一篇容易理解的关于设计模式的文章，比较深刻地讲解了设计模式

[史上最全设计模式导学目录（完整版）](https://blog.csdn.net/lovelion/article/details/17517213)

为了加深自己对设计模式的理解，同时熟悉Python面向对象编程的技巧，遂写下此篇文章，记录每种设计模式对应的一个练习题，并附上Python代码实现。

## 简单工厂模式-Simple Factory Pattern

#### 问题背景

XX软件公司欲基于Python语言开发一套图表库，该图表库可以为应用系统提供各种不同外观的图表，例如柱状图、饼状图、折线图等。XX软件公司图表库设计人员希望为应用系统开发人员提供一套灵活易用的图表库，而且可以较为方便地对图表库进行扩展，以便能够在将来增加一些新类型的图表。

#### 改进前

```Python
class Chart(object):

    def __init__(self, type):
        self._type = type
        if type.lower() == "histogram":
            print("初始化柱状图")
        elif type.lower() == "pie":
            print("初始化饼状图")
        elif type.lower() == "line":
            print("初始化折线图")

    def display(self):
        if self._type.lower() == "histogram":
            print("显示柱状图")
        elif self._type.lower() == "pie":
            print("显示化饼状图")
        elif self._type.lower() == "line":
            print("显示化折线图")

if __name__ == '__main__':
    histogram = Chart("histogram")
    histogram.display()
```

#### 改进后

```Python
from abc import abstractmethod, ABCMeta

class Chart(metaclass=ABCMeta):
    """
    """

    @abstractmethod
    def __init__(self):
        pass
        
    @abstractmethod
    def display(self):
        pass


class HistogramChart(Chart):
    """
    """

    def __init__(self):
        print("初始化柱状图")

    def display(self):
        print("显示柱状图")


class PieChart(Chart):
    """
    """

    def __init__(self):
        print("初始化饼状图")

    def display(self):
        print("显示饼状图")


class LineChart(Chart):
    """
    """

    def __init__(self):
        print("初始化折线图")

    def display(self):
        print("显示折线图")

class ChartFactory(object):
    
    def create(self, chart_type):
        for sc in Chart.__subclasses__():
            if sc.__name__ == chart_type:
                return sc()
        return None
                

if __name__ == '__main__':
    chart_factory = ChartFactory()
    chart = chart_factory.create("HistogramChart")
    if chart:
        chart.display()
```

## 工厂方法模式-Factory Method Pattern

## 抽象工厂模式-Abstract Factory Pattern

## 单例模式-Singleton Pattern

## 原型模式-Prototype Pattern

## 建造者模式-Builder Pattern

## 适配器模式-Adapter Pattern

## 桥接模式-Bridge Pattern

## 组合模式-Composite Pattern

## 装饰模式-Decorator Pattern

## 外观模式-Facade Pattern

## 享元模式-Flyweight Pattern

## 代理模式-Proxy Pattern